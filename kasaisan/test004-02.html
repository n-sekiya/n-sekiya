<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>test004-02</title>
<script>
  function draw() {
    var canvas1, ctx1;
    canvas1 = document.getElementById('CANVAS1');
    ctx1 = canvas1.getContext('2d');
    
    ctx1.clearRect(0, 0, 500, 500);
    
    ctx1.strokeStyle = "blue";
    doLine(ctx1, -250,    0, 250,   0);
    doLine(ctx1,    0, -250,   0, 250);
    doText(ctx1,    4,  240, "y");
    for (var my=-200; my<=200; my+=50) {
      doLine(ctx1, -4, my, 4, my);
      doText(ctx1,  4, my + 2, my+"");
    }
    
    doText(ctx1,  240,    4, "x");
    for (var mx=-200; mx<=200; mx+=50) {
     doLine(ctx1, mx, -4, mx, 4);
     doText(ctx1, mx,  6, mx+"");
    }
    
    ctx1.strokeStyle = "black";
    var x, y;
    /*
    for (x=-70; x<=200; x+=1) {
      y = - Math.pow(x - 100, 2) * 0.01 + 200;
      doDot(ctx1, x, y);
    }
    */
    for (th=0; th<=7200; th+=1) {
      x = Math.sin(th * Math.PI / 180) * th / 36;
      y = Math.cos(th * Math.PI / 180) * th / 36;
      doDot(ctx1, x, y);
    }
  }
  function doLine(ctx, x1, y1, x2 ,y2) {
    ctx.moveTo(trasformX(x1), trasformY(y1));
    ctx.lineTo(trasformX(x2), trasformY(y2));
    ctx.stroke();
  }
  function doText(ctx, x, y, txt) {
    ctx.strokeText(txt, trasformX(x), trasformY(y));
  }
  function doDot(ctx, x, y) {
    ctx.beginPath();
    ctx.arc(trasformX(x), trasformY(y), 1, 0, Math.PI / 180 * 360, false);
    ctx.stroke();
  }
  function trasformX(x) {
    return x + 250;
  }
  function trasformY(y) {
    return 250 - y;
  }
</script>
</head>
<body>
線、円
<input type="button" value="引く" onClick="draw();"><br />
<canvas id="CANVAS1" style="background-color: #FFFF99;" width="500" height="500"></canvas>
</body>
</html>