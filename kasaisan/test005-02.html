<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>test005-02</title>
<script>
  function draw() {
    var canvas1, ctx1;
    canvas1 = document.getElementById('CANVAS1');
    ctx1 = canvas1.getContext('2d');
    
    ctx1.clearRect(0, 0, 500, 500);
    
    ctx1.strokeStyle = "blue";
    doLine(ctx1, -250,    0, 250,   0);
    doLine(ctx1,    0, -250,   0, 250);
    doText(ctx1,    4,  240, "y");
    for (var my=-200; my<=200; my+=50) {
      doLine(ctx1, -4, my, 4, my);
      doText(ctx1,  4, my + 2, my+"");
    }
    
    doText(ctx1,  240,    4, "x");
    for (var mx=-200; mx<=200; mx+=50) {
     doLine(ctx1, mx, -4, mx, 4);
     doText(ctx1, mx,  6, mx+"");
    }
    
    ctx1.strokeStyle = "black";
    for (x=-250; x<=250; x+=1) {
      eval("y = "+obj("fl").value+";");
      doDot(ctx1, x, y);
    }
  }
  function doLine(ctx, x1, y1, x2 ,y2) {
    ctx.moveTo(trasformX(x1), trasformY(y1));
    ctx.lineTo(trasformX(x2), trasformY(y2));
    ctx.stroke();
  }
  function doText(ctx, x, y, txt) {
    ctx.strokeText(txt, trasformX(x), trasformY(y));
  }
  function doDot(ctx, x, y) {
    ctx.beginPath();
    ctx.arc(trasformX(x), trasformY(y), 1, 0, Math.PI / 180 * 360, false);
    ctx.stroke();
  }
  function trasformX(x) {
    return x + 250;
  }
  function trasformY(y) {
    return 250 - y;
  }
  function obj(nm) {
    return document.getElementById(nm);
  }
  function putFormula(v) {
    obj("fl").value = v;
    draw();
  }
</script>
<style>
.fl1 {
  text-decoration: underline;
  cursor: pointer;
}
</style>
</head>
<body>
線、円<br />
y = <input id="fl" size="100" type="text" value="- Math.pow(x - 100, 2) * 0.01 + 200">
<input type="button" value="引く" onClick="draw();"><br />


<div class="fl1" onClick="putFormula(this.innerHTML)">Math.random() * 200 - 100</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">Math.sqrt(100 * 100 - x * x) </div>
<div class="fl1" onClick="putFormula(this.innerHTML)">0.5 * (x - 100) + 100</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">- Math.pow(x - 100, 2) * 0.01 + 200</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">Math.pow(x, 3) * 0.01</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">Math.sin(x / 50) * 100</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">Math.sin(x / 10) * 100 - Math.pow(x - 100, 2) * 0.01 + 100</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">Math.exp((x - 100)/100) * 100</div>
<div class="fl1" onClick="putFormula(this.innerHTML)">Math.sqrt((x + 200) * 100) - 100</div>


<canvas id="CANVAS1" style="background-color: #FFFF99;" width="500" height="500"></canvas>
</body>
</html>